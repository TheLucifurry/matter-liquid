/*! For license information please see matter-liquid.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("matter-js")):"function"==typeof define&&define.amd?define(["matter-js"],e):"object"==typeof exports?exports.MatterLiquid=e(require("matter-js")):t.MatterLiquid=e(t.Matter)}(self,(function(t){return(()=>{var e={493:(t,e,n)=>{"use strict";n.r(e);const r=JSON.parse('{"u2":"matter-liquid","i8":"0.0.1"}');var o=n(538),i=n.n(o);const s=0,u=1,a=2,c=3,f=0,l=2,p=4;function d(t,e,[n,r,o,i]){return t>n&&t<o&&e>r&&e<i}function m(t,e,n){const r=n-e;return e+((t-e)%r+r)%r}function y(t,e){return t>e?t:e}function h(t,e,n){return t<e?e:t>n?n:t}function b(t){const e=t.length,[n,r,o,i,s,u,a,c,f]=t;return e<6?[`0x${r}`/15,`0x${o}`/15,`0x${i}`/15,5===e?`0x${s}`/15:1]:[`0x${r}${o}`/255,`0x${i}${s}`/255,`0x${u}${a}`/255,9===e?`0x${c}${f}`/255:1]}function v(t){return Math.hypot(t[0],t[1])}function g(t){const e=Math.hypot(t[0],t[1]);return 0!==e?[t[0]/e,t[1]/e]:[0,0]}function x(t,e){return[t[0]*e,t[1]*e]}function A(t,e){return[t[0]/e,t[1]/e]}function w(t,e){return[e[0]+t[0],e[1]+t[1]]}function z(t,e){return[e[0]-t[0],e[1]-t[1]]}function P(t,e){return[t[0]-e[0],t[1]-e[1]]}function S(t,e){let n=-1;const{length:r}=t;for(;++n<r;)e(t[n],n)}function C(t,e,n){S(e,(e=>n(t[e],e)))}function T(t,e){const n=t.p[e];return t.sh.getNearby(n[s],n[u],t.p)}function M(t,e,n){return i().Vertices.contains(t.vertices,{x:e,y:n})}function E(t,e,n,r){const o=(e[0]-t[0])*(r[1]-n[1])-(r[0]-n[0])*(e[1]-t[1]);if(0===o)return!1;const i=((r[1]-n[1])*(r[0]-t[0])+(n[0]-r[0])*(r[1]-t[1]))/o,s=((t[1]-e[1])*(r[0]-t[0])+(e[0]-t[0])*(r[1]-t[1]))/o;return i>0&&i<1&&s<1}function U(t,e,n){const r=e;t[s]+=r[0],t[u]+=r[1]}function F(t,e){const[n,r]=function(t,e){const n=Math.hypot(t[0],t[1]);return x(A(t,n||1),h(n,-e,e))}([t[a],t[c]],e);t[a]=n,t[c]=r}function I(t,e,n){const r=[t.position.x,t.position.y];if(t.circleRadius){return w(r,x(g(z(r,n)),t.circleRadius))}var o,i;const s=function(t,e,n){const r=t.vertices;for(let t=0;t<r.length;t++){const o=r[t],i=r[t!==r.length-1?t+1:0],s=[o.x,o.y],u=[i.x,i.y];if(E(s,u,e,n))return[s,u]}return null}(t,(o=e,(i=n)[0]!==o[0]||i[1]!==o[1]?n:r),e),u=function(t,e){const n=g(z([t[0],t[1]],[e[0],e[1]]));return[n[1],-n[0]]}(s[0],s[1]);return function(t,e,n,r){const o=(t[0]-e[0])*(n[1]-r[1])-(t[1]-e[1])*(n[0]-r[0]);if(0===o)return null;const i=t[0]*e[1]-t[1]*e[0],s=n[0]*r[1]-n[1]*r[0];return[(i*(n[0]-r[0])-(t[0]-e[0])*s)/o,(i*(n[1]-r[1])-(t[1]-e[1])*s)/o]}(s[0],s[1],e,w(e,u))}function B(t,e,n,r){const{p:o}=t;(e?function(t,e){return i().Query.region(t,{min:{x:e[0],y:e[1]},max:{x:e[2],y:e[3]}})}(t.w.bodies,e):t.w.bodies).forEach((e=>{const r=function(t,e,n,r){const o=[],i=n.getFromBounds(e.bounds);for(let n=0;n<i.length;n++){const r=i[n],a=t[r];M(e,a[s],a[u])&&o.push(r)}return o}(o,e,t.sh);C(o,r,(t=>{if(!d(t[s],t[u],n))return;const r=function(t,e){const n=[e.velocity.x,e.velocity.y],r=P([t[a],t[c]],n),o=g(r),i=P(r,o);return P(o,x(i,1))}(t,e),o=[t[s],t[u]];if(function(t,e){t[a]-=e[0],t[c]-=e[1]}(t,r),M(e,t[s],t[u])){const n=I(e,o,[t[s],t[u]]);t[s]=n[0],t[u]=n[1]}}))}))}function O(t,e,n,r){C(t.p,e,((e,o)=>{!function(t,e,n){t[a]=(t[s]-n[0])/e,t[c]=(t[u]-n[1])/e}(e,n,r[o]);const i=t.bb,f=t.b;if(t.iwx)e[s]=m(e[s],f[0],f[2]);else{const t=e[s];e[s]=h(t,f[0],f[2]),t!==e[s]&&(e[a]*=-i,e[c]*=i)}if(t.iwy)e[u]=m(e[u],f[1],f[3]);else{const t=e[u];e[u]=h(t,f[1],f[3]),t!==e[u]&&(e[a]*=i,e[c]*=-i)}t.sh.update(o,e[s],e[u])}));const o=t.x,i=t.fpl;for(let e=0;e<o.data.length;e++){if(!o.reacts[e]||!o.ready[e])continue;const n=o.data[e],r=[],s=[];t.l.forEach(((t,e)=>{r[e]=[],s[e]=[]}));const u=Object.keys(n);for(let t=0;t<u.length;t++){const e=u[t],o=n[e];for(let t=0;t<o.length;t++){const n=o[t],u=i[n][f];r[u].push(e),s[u].push(n)}}const a=[r,s];o.cbl[e](a)}}function _(t,e){const n=[],r=Matter.Liquid.getGravity(t),o={},i=t.irc?function(t,e=0){return[t.min.x-e,t.min.y-e,t.max.x+e,t.max.y+e]}(t.r.bounds,t.abp):null,l=t.b,m=.75*t.h;t.x.data=t.l.map((()=>[])),function(t,e,n,r){S(n,((t,n)=>{null===t||e&&!d(t[s],t[u],e)||r(t,n)}))}(0,i,t.p,((i,f)=>{n.push(f),function(t,e,n,r){t[a]+=e*r*n[0],t[c]+=e*r*n[1]}(i,e,r,t.fpl[f][p]),o[f]=[i[s],i[u]],F(i,m),function(t,e){t[s]+=e*t[a],t[u]+=e*t[c]}(i,e),t.sh.update(f,i[s],i[u])})),C(t.p,n,((n,r)=>{!function(t,e,n,r){const o=t.fpl[n][p],i=t.fpl[n][f],a=.2*t.h,c=.3*t.h,l=(t.h,t.x),d=t.fpl[n],m=l.reacts[i]&&l.ready[i];m&&(l.data[i][n]=[]);let h=0,b=0;const w=T(t,n),P=Array(w.length);for(let r=0;r<w.length;r++){const o=w[r],a=(C=t.p[o],z([(S=e)[s],S[u]],[C[s],C[u]])),c=y(1-v(A(a,t.h)),.5);h+=c**2,b+=c**3,P[r]=[c,o,a],m&&t.fpl[o]!==d&&l.data[i][n].push(o)}var S,C;const M=.3*(h-a)*o,E=c*b,F=[0,0];for(let e=0;e<P.length;e++){const[n,o,i]=P[e],s=t.p[o],u=A(x(g(i),r**2*(M*n+E*n**2)),2);F[0]-=u[0],F[1]-=u[1],U(s,u),t.sh.update(o,s[0],s[1])}U(e,F),t.sh.update(n,e[0],e[1])}(t,n,r,e)})),B(t,i,l),O(t,n,e,o)}function k(t,e){if(OffscreenCanvas)return new OffscreenCanvas(t,e);const n=document.createElement("canvas");return n.height=e,n.width=t,n}let L=Float32Array;function $(t,e,n){const r=new L(3);return t&&(r[0]=t),e&&(r[1]=e),n&&(r[2]=n),r}function R(t,e,n){return(n=n||new L(3))[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function j(t,e,n){return(n=n||new L(3))[0]=t[0]*e[0],n[1]=t[1]*e[1],n[2]=t[2]*e[2],n}let N=Float32Array;function V(t){return(t=t||new N(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function D(t,e){e=e||new N(16);const n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],u=t[5],a=t[6],c=t[7],f=t[8],l=t[9],p=t[10],d=t[11],m=t[12],y=t[13],h=t[14],b=t[15],v=p*b,g=h*d,x=a*b,A=h*c,w=a*d,z=p*c,P=o*b,S=h*i,C=o*d,T=p*i,M=o*c,E=a*i,U=f*y,F=m*l,I=s*y,B=m*u,O=s*l,_=f*u,k=n*y,L=m*r,$=n*l,R=f*r,j=n*u,V=s*r,D=v*u+A*l+w*y-(g*u+x*l+z*y),W=g*r+P*l+T*y-(v*r+S*l+C*y),q=x*r+S*u+M*y-(A*r+P*u+E*y),G=z*r+C*u+E*l-(w*r+T*u+M*l),H=1/(n*D+s*W+f*q+m*G);return e[0]=H*D,e[1]=H*W,e[2]=H*q,e[3]=H*G,e[4]=H*(g*s+x*f+z*m-(v*s+A*f+w*m)),e[5]=H*(v*n+S*f+C*m-(g*n+P*f+T*m)),e[6]=H*(A*n+P*s+E*m-(x*n+S*s+M*m)),e[7]=H*(w*n+T*s+M*f-(z*n+C*s+E*f)),e[8]=H*(U*c+B*d+O*b-(F*c+I*d+_*b)),e[9]=H*(F*i+k*d+R*b-(U*i+L*d+$*b)),e[10]=H*(I*i+L*c+j*b-(B*i+k*c+V*b)),e[11]=H*(_*i+$*c+V*d-(O*i+R*c+j*d)),e[12]=H*(I*p+_*h+F*a-(O*h+U*a+B*p)),e[13]=H*($*h+U*o+L*p-(k*p+R*h+F*o)),e[14]=H*(k*a+V*h+B*o-(j*h+I*o+L*a)),e[15]=H*(j*p+O*o+R*a-($*a+V*p+_*o)),e}function W(t,e,n){n=n||$();const r=e[0],o=e[1],i=e[2],s=r*t[3]+o*t[7]+i*t[11]+t[15];return n[0]=(r*t[0]+o*t[4]+i*t[8]+t[12])/s,n[1]=(r*t[1]+o*t[5]+i*t[9]+t[13])/s,n[2]=(r*t[2]+o*t[6]+i*t[10]+t[14])/s,n}function q(t,e,n){n=n||$();const r=e[0],o=e[1],i=e[2];return n[0]=r*t[0]+o*t[4]+i*t[8],n[1]=r*t[1]+o*t[5]+i*t[9],n[2]=r*t[2]+o*t[6]+i*t[10],n}const G=5120,H=5121,Y=5122,K=5123,X=5124,J=5125,Q=5126,Z={};{const t=Z;t[G]=Int8Array,t[5121]=Uint8Array,t[5122]=Int16Array,t[5123]=Uint16Array,t[X]=Int32Array,t[5125]=Uint32Array,t[5126]=Float32Array,t[32819]=Uint16Array,t[32820]=Uint16Array,t[33635]=Uint16Array,t[5131]=Uint16Array,t[33640]=Uint32Array,t[35899]=Uint32Array,t[35902]=Uint32Array,t[36269]=Uint32Array,t[34042]=Uint32Array}function tt(t){if(t instanceof Int8Array)return G;if(t instanceof Uint8Array)return H;if(t instanceof Uint8ClampedArray)return H;if(t instanceof Int16Array)return Y;if(t instanceof Uint16Array)return K;if(t instanceof Int32Array)return X;if(t instanceof Uint32Array)return J;if(t instanceof Float32Array)return Q;throw new Error("unsupported typed array type")}function et(t){if(t===Int8Array)return G;if(t===Uint8Array)return H;if(t===Uint8ClampedArray)return H;if(t===Int16Array)return Y;if(t===Uint16Array)return K;if(t===Int32Array)return X;if(t===Uint32Array)return J;if(t===Float32Array)return Q;throw new Error("unsupported typed array type")}const nt="undefined"!=typeof SharedArrayBuffer?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function rt(...t){console.error(...t)}function ot(t,e){return"undefined"!=typeof WebGLTexture&&e instanceof WebGLTexture}const it=34962,st={attribPrefix:""};function ut(t,e,n,r,o){t.bindBuffer(e,n),t.bufferData(e,r,o||35044)}function at(t,e,n,r){if(o=e,"undefined"!=typeof WebGLBuffer&&o instanceof WebGLBuffer)return e;var o;n=n||it;const i=t.createBuffer();return ut(t,n,i,e,r),i}function ct(t){return"indices"===t}function ft(t){return t.length?t:t.data}const lt=/coord|texture/i,pt=/color|colour/i;function dt(t,e){let n;if(n=lt.test(t)?2:pt.test(t)?4:3,e%n>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${n} but ${e} values is not evenly divisible by ${n}. You should specify it.`);return n}function mt(t,e){return t.numComponents||t.size||dt(e,ft(t).length)}function yt(t,e){if(nt(t))return t;if(nt(t.data))return t.data;Array.isArray(t)&&(t={data:t});let n=t.type;return n||(n=ct(e)?Uint16Array:Float32Array),new n(t.data)}function ht(t,e){const n={};return Object.keys(e).forEach((function(r){if(!ct(r)){const i=e[r],s=i.attrib||i.name||i.attribName||st.attribPrefix+r;if(i.value){if(!Array.isArray(i.value)&&!nt(i.value))throw new Error("array.value is not array or typedarray");n[s]={value:i.value}}else{let e,u,a,c;if(i.buffer&&i.buffer instanceof WebGLBuffer)e=i.buffer,c=i.numComponents||i.size,u=i.type,a=i.normalize;else if("number"==typeof i||"number"==typeof i.data){const n=i.data||i,s=i.type||Float32Array,f=n*s.BYTES_PER_ELEMENT;u=et(s),a=void 0!==i.normalize?i.normalize:(o=s)===Int8Array||o===Uint8Array,c=i.numComponents||i.size||dt(r,n),e=t.createBuffer(),t.bindBuffer(it,e),t.bufferData(it,f,i.drawType||35044)}else{const n=yt(i,r);e=at(t,n,void 0,i.drawType),u=tt(n),a=void 0!==i.normalize?i.normalize:function(t){return t instanceof Int8Array||t instanceof Uint8Array}(n),c=mt(i,r)}n[s]={buffer:e,numComponents:c,type:u,normalize:a,stride:i.stride||0,offset:i.offset||0,divisor:void 0===i.divisor?void 0:i.divisor,drawType:i.drawType}}}var o})),t.bindBuffer(it,null),n}function bt(t,e,n,r){n=yt(n),void 0!==r?(t.bindBuffer(it,e.buffer),t.bufferSubData(it,r,n)):ut(t,it,e.buffer,n,e.drawType)}const vt=["position","positions","a_position"];function gt(t,e,n){const r=ht(t,e),o=Object.assign({},n||{});o.attribs=Object.assign({},n?n.attribs:{},r);const i=e.indices;if(i){const e=yt(i,"indices");o.indices=at(t,e,34963),o.numElements=e.length,o.elementType=tt(e)}else o.numElements||(o.numElements=function(t,e){let n,r;for(r=0;r<vt.length&&(n=vt[r],!(n in e))&&(n=st.attribPrefix+n,!(n in e));++r);r===vt.length&&(n=Object.keys(e)[0]);const o=e[n];t.bindBuffer(it,o.buffer);const i=t.getBufferParameter(it,34660);var s;t.bindBuffer(it,null);const u=i/(5120===(s=o.type)||5121===s?1:5122===s||5123===s?2:5124===s||5125===s||5126===s?4:0),a=o.numComponents||o.size,c=u/a;if(c%1!=0)throw new Error(`numComponents ${a} not correct for length ${length}`);return c}(t,o.attribs));return o}function xt(t,e,n){const r="indices"===n?34963:it;return at(t,yt(e,n),r)}function At(t,e){const n={};return Object.keys(e).forEach((function(r){n[r]=xt(t,e[r],r)})),e.indices?(n.numElements=e.indices.length,n.elementType=tt(yt(e.indices))):n.numElements=function(t){let e,n;for(n=0;n<vt.length&&(e=vt[n],!(e in t));++n);n===vt.length&&(e=Object.keys(t)[0]);const r=t[e],o=ft(r).length,i=mt(r,e),s=o/i;if(o%i>0)throw new Error(`numComponents ${i} not correct for length ${o}`);return s}(e),n}function wt(t,e){let n=0;return t.push=function(){for(let e=0;e<arguments.length;++e){const r=arguments[e];if(r instanceof Array||nt(r))for(let e=0;e<r.length;++e)t[n++]=r[e];else t[n++]=r}},t.reset=function(t){n=t||0},t.numComponents=e,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}function zt(t,e,n){return wt(new(n||Float32Array)(t*e),t)}function Pt(t,e,n){const r=t.length,o=new Float32Array(3);for(let i=0;i<r;i+=3)n(e,[t[i],t[i+1],t[i+2]],o),t[i]=o[0],t[i+1]=o[1],t[i+2]=o[2]}function St(t,e,n){n=n||$();const r=e[0],o=e[1],i=e[2];return n[0]=r*t[0]+o*t[1]+i*t[2],n[1]=r*t[4]+o*t[5]+i*t[6],n[2]=r*t[8]+o*t[9]+i*t[10],n}function Ct(t,e){return Pt(t,e,q),t}function Tt(t,e){return Pt(t,D(e),St),t}function Mt(t,e){return Pt(t,e,W),t}function Et(t,e){return Object.keys(t).forEach((function(n){const r=t[n];n.indexOf("pos")>=0?Mt(r,e):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?Ct(r,e):n.indexOf("norm")>=0&&Tt(r,e)})),t}function Ut(t,e,n){return t=t||2,{position:{numComponents:2,data:[(e=e||0)+-1*(t*=.5),(n=n||0)+-1*t,e+1*t,n+-1*t,e+-1*t,n+1*t,e+1*t,n+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function Ft(t,e,n,r,o){t=t||1,e=e||1,n=n||1,r=r||1,o=o||V();const i=(n+1)*(r+1),s=zt(3,i),u=zt(3,i),a=zt(2,i);for(let o=0;o<=r;o++)for(let i=0;i<=n;i++){const c=i/n,f=o/r;s.push(t*c-.5*t,0,e*f-.5*e),u.push(0,1,0),a.push(c,f)}const c=n+1,f=zt(3,n*r*2,Uint16Array);for(let t=0;t<r;t++)for(let e=0;e<n;e++)f.push((t+0)*c+e,(t+1)*c+e,(t+0)*c+e+1),f.push((t+1)*c+e,(t+1)*c+e+1,(t+0)*c+e+1);return Et({position:s,normal:u,texcoord:a,indices:f},o)}function It(t,e,n,r,o,i,s){if(e<=0||n<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0,i=i||0;const u=(o=o||Math.PI)-r,a=(s=s||2*Math.PI)-i,c=(e+1)*(n+1),f=zt(3,c),l=zt(3,c),p=zt(2,c);for(let o=0;o<=n;o++)for(let s=0;s<=e;s++){const c=s/e,d=o/n,m=a*c+i,y=u*d+r,h=Math.sin(m),b=Math.cos(m),v=Math.sin(y),g=b*v,x=Math.cos(y),A=h*v;f.push(t*g,t*x,t*A),l.push(g,x,A),p.push(1-c,d)}const d=e+1,m=zt(3,e*n*2,Uint16Array);for(let t=0;t<e;t++)for(let e=0;e<n;e++)m.push((e+0)*d+t,(e+0)*d+t+1,(e+1)*d+t),m.push((e+1)*d+t,(e+0)*d+t+1,(e+1)*d+t+1);return{position:f,normal:l,texcoord:p,indices:m}}const Bt=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function Ot(t){const e=(t=t||1)/2,n=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],r=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],i=zt(3,24),s=zt(3,24),u=zt(2,24),a=zt(3,12,Uint16Array);for(let t=0;t<6;++t){const e=Bt[t];for(let a=0;a<4;++a){const c=n[e[a]],f=r[t],l=o[a];i.push(c),s.push(f),u.push(l)}const c=4*t;a.push(c+0,c+1,c+2),a.push(c+0,c+2,c+3)}return{position:i,normal:s,texcoord:u,indices:a}}function _t(t,e,n,r,o,i,s){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");const u=void 0===i||i,a=void 0===s||s,c=(u?2:0)+(a?2:0),f=(r+1)*(o+1+c),l=zt(3,f),p=zt(3,f),d=zt(2,f),m=zt(3,r*(o+c/2)*2,Uint16Array),y=r+1,h=Math.atan2(t-e,n),b=Math.cos(h),v=Math.sin(h),g=o+(a?2:0);for(let i=u?-2:0;i<=g;++i){let s,u=i/o,a=n*u;i<0?(a=0,u=1,s=t):i>o?(a=n,u=1,s=e):s=t+i/o*(e-t),-2!==i&&i!==o+2||(s=0,u=0),a-=n/2;for(let t=0;t<y;++t){const e=Math.sin(t*Math.PI*2/r),n=Math.cos(t*Math.PI*2/r);l.push(e*s,a,n*s),i<0?p.push(0,-1,0):i>o?p.push(0,1,0):0===s?p.push(0,0,0):p.push(e*b,v,n*b),d.push(t/r,1-u)}}for(let t=0;t<o+c;++t)if(!(1===t&&u||t===o+c-2&&a))for(let e=0;e<r;++e)m.push(y*(t+0)+0+e,y*(t+0)+1+e,y*(t+1)+1+e),m.push(y*(t+0)+0+e,y*(t+1)+1+e,y*(t+1)+0+e);return{position:l,normal:p,texcoord:d,indices:m}}function kt(t,e){e=e||[];const n=[];for(let r=0;r<t.length;r+=4){const o=t[r],i=t.slice(r+1,r+4);i.push.apply(i,e);for(let t=0;t<o;++t)n.push.apply(n,i)}return n}function Lt(){const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=kt([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),n=kt([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),r=t.length/3,o={position:zt(3,r),texcoord:zt(2,r),normal:zt(3,r),color:zt(4,r,Uint8Array),indices:zt(3,r/3,Uint16Array)};o.position.push(t),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(e),o.color.push(n);for(let t=0;t<r;++t)o.indices.push(t);return o}function $t(t,e,n,r,o,i,s){if(o<=0)throw new Error("subdivisionDown must be > 0");const u=(s=s||1)-(i=i||0),a=2*(o+1)*4,c=zt(3,a),f=zt(3,a),l=zt(2,a);function p(t,e,n){return t+(e-t)*n}function d(e,n,s,a,d,m){for(let y=0;y<=o;y++){const h=n/1,b=y/o,v=2*(h-.5),g=(i+b*u)*Math.PI,x=Math.sin(g),A=Math.cos(g),w=p(t,e,x),z=v*r,P=A*t,S=x*w;c.push(z,P,S);const C=R(j([0,x,A],s),a);f.push(C),l.push(h*d+m,b)}}for(let t=0;t<2;t++){const r=2*(t/1-.5);d(e,t,[1,1,1],[0,0,0],1,0),d(e,t,[0,0,0],[r,0,0],0,0),d(n,t,[1,1,1],[0,0,0],1,0),d(n,t,[0,0,0],[r,0,0],0,1)}const m=zt(3,2*o*4,Uint16Array);function y(t,e){for(let n=0;n<o;++n)m.push(t+n+0,t+n+1,e+n+0),m.push(t+n+1,e+n+1,e+n+0)}const h=o+1;return y(0*h,4*h),y(5*h,7*h),y(6*h,2*h),y(3*h,1*h),{position:c,normal:f,texcoord:l,indices:m}}function Rt(t,e,n,r,o,i){return _t(t,t,e,n,r,o,i)}function jt(t,e,n,r,o,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(r<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;const s=(i=i||2*Math.PI)-o,u=n+1,a=r+1,c=u*a,f=zt(3,c),l=zt(3,c),p=zt(2,c),d=zt(3,n*r*2,Uint16Array);for(let i=0;i<a;++i){const a=i/r,c=a*Math.PI*2,d=Math.sin(c),m=t+d*e,y=Math.cos(c),h=y*e;for(let t=0;t<u;++t){const e=t/n,r=o+e*s,i=Math.sin(r),u=Math.cos(r),c=i*m,b=u*m,v=i*d,g=u*d;f.push(c,h,b),l.push(v,y,g),p.push(e,1-a)}}for(let t=0;t<r;++t)for(let e=0;e<n;++e){const n=1+e,r=1+t;d.push(u*t+e,u*r+e,u*t+n),d.push(u*r+e,u*r+n,u*t+n)}return{position:f,normal:l,texcoord:p,indices:d}}function Nt(t,e,n,r,o){if(e<3)throw new Error("divisions must be at least 3");o=o||1,r=r||0;const i=(e+1)*((n=n||1)+1),s=zt(3,i),u=zt(3,i),a=zt(2,i),c=zt(3,n*e*2,Uint16Array);let f=0;const l=t-r,p=e+1;for(let t=0;t<=n;++t){const i=r+l*Math.pow(t/n,o);for(let r=0;r<=e;++r){const o=2*Math.PI*r/e,l=i*Math.cos(o),d=i*Math.sin(o);if(s.push(l,0,d),u.push(0,1,0),a.push(1-r/e,t/n),t>0&&r!==e){const t=f+(r+1),e=f+r,n=f+r-p,o=f+(r+1)-p;c.push(t,e,n),c.push(t,n,o)}}f+=e+1}return{position:s,normal:u,texcoord:a,indices:c}}function Vt(t){return function(e){const n=t.apply(this,Array.prototype.slice.call(arguments,1));return At(e,n)}}function Dt(t){return function(e){const n=t.apply(null,Array.prototype.slice.call(arguments,1));return gt(e,n)}}Dt(Lt),Vt(Lt),Dt(Ot),Vt(Ot),Dt(Ft),Vt(Ft),Dt(It),Vt(It),Dt(_t),Vt(_t),Dt(Ut),Vt(Ut),Dt($t),Vt($t),Dt(Rt),Vt(Rt),Dt(jt),Vt(jt),Dt(Nt),Vt(Nt);function Wt(t){return!!t.texStorage2D}const qt=function(){const t={},e={};return function(n,r){return function(n){const r=n.constructor.name;if(!t[r]){for(const t in n)if("number"==typeof n[t]){const r=e[n[t]];e[n[t]]=r?`${r} | ${t}`:t}t[r]=!0}}(n),e[r]||("number"==typeof r?`0x${r.toString(16)}`:r)}}();new Uint8Array([128,192,255,255]),function(){let t}();const Gt=6407,Ht=6408,Yt=33319,Kt=6403,Xt={};{const t=Xt;t[6406]={numColorComponents:1},t[6409]={numColorComponents:1},t[6410]={numColorComponents:2},t[Gt]={numColorComponents:3},t[Ht]={numColorComponents:4},t[Kt]={numColorComponents:1},t[36244]={numColorComponents:1},t[Yt]={numColorComponents:2},t[33320]={numColorComponents:2},t[Gt]={numColorComponents:3},t[36248]={numColorComponents:3},t[Ht]={numColorComponents:4},t[36249]={numColorComponents:4},t[6402]={numColorComponents:1},t[34041]={numColorComponents:2}}const Jt=rt;function Qt(t){return"undefined"!=typeof document&&document.getElementById?document.getElementById(t):null}const Zt=33984,te=34962,ee=5126,ne=5124,re=5125,oe=3553,ie=34067,se=32879,ue=35866,ae={};function ce(t,e){return ae[e].bindPoint}function fe(t,e){return function(n){t.uniform1i(e,n)}}function le(t,e){return function(n){t.uniform1iv(e,n)}}function pe(t,e){return function(n){t.uniform2iv(e,n)}}function de(t,e){return function(n){t.uniform3iv(e,n)}}function me(t,e){return function(n){t.uniform4iv(e,n)}}function ye(t,e,n,r){const o=ce(0,e);return Wt(t)?function(e){let i,s;ot(0,e)?(i=e,s=null):(i=e.texture,s=e.sampler),t.uniform1i(r,n),t.activeTexture(Zt+n),t.bindTexture(o,i),t.bindSampler(n,s)}:function(e){t.uniform1i(r,n),t.activeTexture(Zt+n),t.bindTexture(o,e)}}function he(t,e,n,r,o){const i=ce(0,e),s=new Int32Array(o);for(let t=0;t<o;++t)s[t]=n+t;return Wt(t)?function(e){t.uniform1iv(r,s),e.forEach((function(e,r){let o,u;t.activeTexture(Zt+s[r]),ot(0,e)?(o=e,u=null):(o=e.texture,u=e.sampler),t.bindSampler(n,u),t.bindTexture(i,o)}))}:function(e){t.uniform1iv(r,s),e.forEach((function(e,n){t.activeTexture(Zt+s[n]),t.bindTexture(i,e)}))}}function be(t,e){return function(n){if(n.value)switch(t.disableVertexAttribArray(e),n.value.length){case 4:t.vertexAttrib4fv(e,n.value);break;case 3:t.vertexAttrib3fv(e,n.value);break;case 2:t.vertexAttrib2fv(e,n.value);break;case 1:t.vertexAttrib1fv(e,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(te,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.numComponents||n.size,n.type||ee,n.normalize||!1,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor)}}function ve(t,e){return function(n){if(n.value){if(t.disableVertexAttribArray(e),4!==n.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(e,n.value)}else t.bindBuffer(te,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||ne,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor)}}function ge(t,e){return function(n){if(n.value){if(t.disableVertexAttribArray(e),4!==n.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(e,n.value)}else t.bindBuffer(te,n.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.numComponents||n.size,n.type||re,n.stride||0,n.offset||0),void 0!==n.divisor&&t.vertexAttribDivisor(e,n.divisor)}}function xe(t,e,n){const r=n.size,o=n.count;return function(n){t.bindBuffer(te,n.buffer);const i=n.size||n.numComponents||r,s=i/o,u=n.type||ee,a=ae[u].size*i,c=n.normalize||!1,f=n.offset||0,l=a/o;for(let r=0;r<o;++r)t.enableVertexAttribArray(e+r),t.vertexAttribPointer(e+r,s,u,c,a,f+l*r),void 0!==n.divisor&&t.vertexAttribDivisor(e+r,n.divisor)}}ae[5126]={Type:Float32Array,size:4,setter:function(t,e){return function(n){t.uniform1f(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1fv(e,n)}}},ae[35664]={Type:Float32Array,size:8,setter:function(t,e){return function(n){t.uniform2fv(e,n)}}},ae[35665]={Type:Float32Array,size:12,setter:function(t,e){return function(n){t.uniform3fv(e,n)}}},ae[35666]={Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniform4fv(e,n)}}},ae[5124]={Type:Int32Array,size:4,setter:fe,arraySetter:le},ae[35667]={Type:Int32Array,size:8,setter:pe},ae[35668]={Type:Int32Array,size:12,setter:de},ae[35669]={Type:Int32Array,size:16,setter:me},ae[5125]={Type:Uint32Array,size:4,setter:function(t,e){return function(n){t.uniform1ui(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1uiv(e,n)}}},ae[36294]={Type:Uint32Array,size:8,setter:function(t,e){return function(n){t.uniform2uiv(e,n)}}},ae[36295]={Type:Uint32Array,size:12,setter:function(t,e){return function(n){t.uniform3uiv(e,n)}}},ae[36296]={Type:Uint32Array,size:16,setter:function(t,e){return function(n){t.uniform4uiv(e,n)}}},ae[35670]={Type:Uint32Array,size:4,setter:fe,arraySetter:le},ae[35671]={Type:Uint32Array,size:8,setter:pe},ae[35672]={Type:Uint32Array,size:12,setter:de},ae[35673]={Type:Uint32Array,size:16,setter:me},ae[35674]={Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}},ae[35675]={Type:Float32Array,size:36,setter:function(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}},ae[35676]={Type:Float32Array,size:64,setter:function(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}},ae[35685]={Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}},ae[35686]={Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}},ae[35687]={Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}},ae[35688]={Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}},ae[35689]={Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}},ae[35690]={Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}},ae[35678]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:oe},ae[35680]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ie},ae[35679]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:se},ae[35682]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:oe},ae[36289]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ue},ae[36292]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ue},ae[36293]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ie},ae[36298]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:oe},ae[36299]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:se},ae[36300]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ie},ae[36303]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ue},ae[36306]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:oe},ae[36307]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:se},ae[36308]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ie},ae[36311]={Type:null,size:0,setter:ye,arraySetter:he,bindPoint:ue};const Ae={};Ae[5126]={size:4,setter:be},Ae[35664]={size:8,setter:be},Ae[35665]={size:12,setter:be},Ae[35666]={size:16,setter:be},Ae[5124]={size:4,setter:ve},Ae[35667]={size:8,setter:ve},Ae[35668]={size:12,setter:ve},Ae[35669]={size:16,setter:ve},Ae[5125]={size:4,setter:ge},Ae[36294]={size:8,setter:ge},Ae[36295]={size:12,setter:ge},Ae[36296]={size:16,setter:ge},Ae[35670]={size:4,setter:ve},Ae[35671]={size:8,setter:ve},Ae[35672]={size:12,setter:ve},Ae[35673]={size:16,setter:ve},Ae[35674]={size:4,setter:xe,count:2},Ae[35675]={size:9,setter:xe,count:3},Ae[35676]={size:16,setter:xe,count:4};const we=/ERROR:\s*\d+:(\d+)/gi;function ze(t,e="",n=0){const r=[...e.matchAll(we)],o=new Map(r.map(((t,n)=>{const o=parseInt(t[1]),i=r[n+1],s=i?i.index:e.length;return[o-1,e.substring(t.index,s)]})));return t.split("\n").map(((t,e)=>{const r=o.get(e);return`${e+1+n}: ${t}${r?`\n\n^^^ ${r}`:""}`})).join("\n")}const Pe=/^[ \t]*\n/;function Se(t,e,n,r){const o=r||Jt,i=t.createShader(n);let s=0;Pe.test(e)&&(s=1,e=e.replace(Pe,"")),t.shaderSource(i,e),t.compileShader(i);if(!t.getShaderParameter(i,35713)){const r=t.getShaderInfoLog(i);return o(`${ze(e,r,s)}\nError compiling ${qt(t,n)}: ${r}`),t.deleteShader(i),null}return i}function Ce(t,e,n){let r,o;if("function"==typeof e&&(n=e,e=void 0),"function"==typeof t)n=t,t=void 0;else if(t&&!Array.isArray(t)){if(t.errorCallback)return t;const e=t;n=e.errorCallback,t=e.attribLocations,r=e.transformFeedbackVaryings,o=e.transformFeedbackMode}const i={errorCallback:n||Jt,transformFeedbackVaryings:r,transformFeedbackMode:o};if(t){let n={};Array.isArray(t)?t.forEach((function(t,r){n[t]=e?e[r]:r})):n=t,i.attribLocations=n}return i}const Te=["VERTEX_SHADER","FRAGMENT_SHADER"];function Me(t,e){return e.indexOf("frag")>=0?35632:e.indexOf("vert")>=0?35633:void 0}function Ee(t,e){e.forEach((function(e){t.deleteShader(e)}))}function Ue(t,e,n,r,o){const i=Ce(n,r,o),s=[],u=[];for(let n=0;n<e.length;++n){let r=e[n];if("string"==typeof r){const e=Qt(r),o=e?e.text:r;let s=t[Te[n]];e&&e.type&&(s=Me(0,e.type)||s),r=Se(t,o,s,i.errorCallback),u.push(r)}a=r,"undefined"!=typeof WebGLShader&&a instanceof WebGLShader&&s.push(r)}var a;if(s.length!==e.length)return i.errorCallback("not enough shaders for program"),Ee(t,u),null;const c=t.createProgram();s.forEach((function(e){t.attachShader(c,e)})),i.attribLocations&&Object.keys(i.attribLocations).forEach((function(e){t.bindAttribLocation(c,i.attribLocations[e],e)}));let f=i.transformFeedbackVaryings;f&&(f.attribs&&(f=f.attribs),Array.isArray(f)||(f=Object.keys(f)),t.transformFeedbackVaryings(c,f,i.transformFeedbackMode||35981)),t.linkProgram(c);if(!t.getProgramParameter(c,35714)){const e=t.getProgramInfoLog(c);return i.errorCallback(`${s.map((e=>{const n=ze(t.getShaderSource(e),"",0),r=t.getShaderParameter(e,t.SHADER_TYPE);return`${qt(t,r)}\n${n}}`})).join("\n")}\nError in program linking: ${e}`),t.deleteProgram(c),Ee(t,u),null}return c}function Fe(t,e,n,r,o){const i=Ce(n,r,o),s=[];for(let n=0;n<e.length;++n){const r=Se(t,e[n],t[Te[n]],i.errorCallback);if(!r)return null;s.push(r)}return Ue(t,s,i)}function Ie(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}function Be(t,e){let n=0;function r(e,r,o){const i=r.name.endsWith("[0]"),s=r.type,u=ae[s];if(!u)throw new Error(`unknown type: 0x${s.toString(16)}`);let a;if(u.bindPoint){const e=n;n+=r.size,a=i?u.arraySetter(t,s,e,o,r.size):u.setter(t,s,e,o,r.size)}else a=u.arraySetter&&i?u.arraySetter(t,o):u.setter(t,o);return a.location=o,a}const o={},i=t.getProgramParameter(e,35718);for(let n=0;n<i;++n){const i=t.getActiveUniform(e,n);if(Ie(i))continue;let s=i.name;s.endsWith("[0]")&&(s=s.substr(0,s.length-3));const u=t.getUniformLocation(e,i.name);u&&(o[s]=r(0,i,u))}return o}function Oe(t,e){const n={},r=t.getProgramParameter(e,35971);for(let o=0;o<r;++o){const r=t.getTransformFeedbackVarying(e,o);n[r.name]={index:o,type:r.type,size:r.size}}return n}function _e(t,e){const n=t.getProgramParameter(e,35718),r=[],o=[];for(let i=0;i<n;++i){o.push(i),r.push({});const n=t.getActiveUniform(e,i);if(Ie(n))break;r[i].name=n.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(n){const i=n[0],s=n[1];t.getActiveUniforms(e,o,t[i]).forEach((function(t,e){r[e][s]=t}))}));const i={},s=t.getProgramParameter(e,35382);for(let n=0;n<s;++n){const r=t.getActiveUniformBlockName(e,n),o={index:t.getUniformBlockIndex(e,r),usedByVertexShader:t.getActiveUniformBlockParameter(e,n,35396),usedByFragmentShader:t.getActiveUniformBlockParameter(e,n,35398),size:t.getActiveUniformBlockParameter(e,n,35392),uniformIndices:t.getActiveUniformBlockParameter(e,n,35395)};o.used=o.usedByVertexShader||o.usedByFragmentShader,i[r]=o}return{blockSpecs:i,uniformData:r}}function ke(t,e){const n=t.uniformSetters||t,r=arguments.length;for(let t=1;t<r;++t){const e=arguments[t];if(Array.isArray(e)){const t=e.length;for(let r=0;r<t;++r)ke(n,e[r])}else for(const t in e){const r=n[t];r&&r(e[t])}}}function Le(t,e){const n={},r=t.getProgramParameter(e,35721);for(let o=0;o<r;++o){const r=t.getActiveAttrib(e,o);if(Ie(r))continue;const i=t.getAttribLocation(e,r.name),s=Ae[r.type],u=s.setter(t,i,s);u.location=i,n[r.name]=u}return n}function $e(t,e){for(const n in e){const r=t[n];r&&r(e[n])}}function Re(t,e,n){n.vertexArrayObject?t.bindVertexArray(n.vertexArrayObject):($e(e.attribSetters||e,n.attribs),n.indices&&t.bindBuffer(34963,n.indices))}function je(t,e){const n={program:e,uniformSetters:Be(t,e),attribSetters:Le(t,e)};return Wt(t)&&(n.uniformBlockSpec=_e(t,e),n.transformFeedbackInfo=Oe(t,e)),n}function Ne(t,e,n,r,o){const i=Ce(n,r,o);let s=!0;if(e=e.map((function(t){if(t.indexOf("\n")<0){const e=Qt(t);e?t=e.text:(i.errorCallback("no element with id: "+t),s=!1)}return t})),!s)return null;const u=Fe(t,e,i);return u?je(t,u):null}function Ve(t,e,n,r,o,i){n=void 0===n?4:n;const s=e.indices,u=e.elementType,a=void 0===r?e.numElements:r;o=void 0===o?0:o,u||s?void 0!==i?t.drawElementsInstanced(n,a,void 0===u?5123:e.elementType,o,i):t.drawElements(n,a,void 0===u?5123:e.elementType,o):void 0!==i?t.drawArraysInstanced(n,o,a,i):t.drawArrays(n,o,a)}const De=36096,We=33306,qe={};qe[34041]=We,qe[6401]=36128,qe[36168]=36128,qe[6402]=De,qe[33189]=De,qe[33190]=De,qe[36012]=De,qe[35056]=We,qe[36013]=We;const Ge={};Ge[32854]=!0,Ge[32855]=!0,Ge[36194]=!0,Ge[34041]=!0,Ge[33189]=!0,Ge[6401]=!0,Ge[36168]=!0;var He=n(534),Ye=n.n(He),Ke=n(834),Xe=n.n(Ke);const Je=Ye().uniforms.u_camera.variableName,Qe=Xe().uniforms.u_color.variableName,Ze="a_position";let tn,en;function nn(t,e,n){const r=n[l];t.useProgram(tn.program),ke(tn,{[Qe]:r}),bt(t,en.attribs[Ze],e),Re(t,tn,en),Ve(t,en,t.POINTS,e.length/2)}function rn(t,e){const n=k(6*e,6*e),r=n.getContext("2d");return r.shadowColor=t,r.shadowBlur=2*e,r.fillStyle=t,r.beginPath(),r.arc(3*e,3*e,e,0,2*Math.PI),r.fill(),n}function on(t){const{context:e}=t.r;Matter.Render.startViewTransform({...t.r,context:e}),function(t){const e=t.c,n=t.r,r=n.context,o=n.bounds,i=o.max.x-o.min.x,s=o.max.y-o.min.y,u=t.st.cl.map((t=>new Float32Array(2*t))),a=Array(u.length).fill(0);for(let e=0;e<t.p.length;e++){const n=t.p[e];if(null===n)continue;const r=t.fpl[e][f],o=u[r];o[a[r]]=n[0],o[a[r]+1]=n[1],a[r]+=2}e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(tn.program),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),ke(tn,{[Je]:[o.min.x,o.min.y,o.max.x,o.max.y]}),u.forEach(((n,r)=>nn(e,n,t.l[r]))),r.drawImage(e.canvas,o.min.x,o.min.y,i,s)}(t)}function sn(t,e){const n=e.min.x,r=e.min.y,o=Math.round((e.max.x-e.min.x)/t);function i(t,e){return e*o+t}function s(t,e,n){const r=t.h[n];void 0===r?(t.h[n]=[e],t.p[e]=n):r.includes(e)||(r.push(e),t.p[e]=n)}function u(t,e,n){return t.h[i(e,n)]||[]}function a(t,e,n){!function(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}(t.h[n],e),delete t.p[e]}const c={h:[],p:{},update:(e,o,u)=>{const f=Math.trunc((o-n)/t),l=Math.trunc((u-r)/t),p=c.p[e],d=i(f,l);p!==d&&(void 0!==p&&a(c,e,p),s(c,e,d))},insert:(e,o,u)=>{const a=i(Math.trunc((o-n)/t),Math.trunc((u-r)/t));s(c,e,a)},remove:t=>{const e=c.p[t];a(c,t,e)},getNearby:(e,o,i)=>{const s=Math.trunc((e-n)/t),a=Math.trunc((o-r)/t),f=[...u(c,s-1,a-1),...u(c,s,a-1),...u(c,s+1,a-1),...u(c,s-1,a),...u(c,s+1,a),...u(c,s-1,a+1),...u(c,s,a+1),...u(c,s+1,a+1)],l=u(c,s,a).slice();for(let n=0;n<f.length;n++){const r=f[n],s=i[r];(s[0]-e)**2+(s[1]-o)**2<=t**2&&l.push(r)}return l},getFromBounds:t=>c.getFromRect([t.min.x,t.min.y,t.max.x,t.max.y]),getFromRect:e=>{const o=Math.trunc((e[0]-n)/t),i=Math.trunc((e[1]-r)/t),s=Math.trunc((e[2]-n)/t),a=Math.trunc((e[3]-r)/t),f=[];for(let t=i;t<=a;t++)for(let e=o;e<=s;e++)f.push(...u(c,e,t));return f}};return Object.seal(c)}const un=["pauseChange","particleRemove"];function an(){const t={};return un.forEach((e=>t[e]=()=>0)),t}const cn={drip(t,e,n,r){const o=0===t.fpids.length?t.p.length:t.fpids.pop(),i=new Float32Array([n,r,0,0]);t.fpl[o]=t.l[e],t.p[o]=i,t.sh.insert(o,n,r),t.st.cl[e]++},rect(t,e,n,r,o,i,s=t.h){const u=Matter.Liquid.getFluidId(t,e),a=s/2,c=y(Math.trunc(o/s),1),f=y(Math.trunc(i/s),1);for(let e=0;e<c;e++)for(let o=0;o<f;o++){const i=n+a+e*s,l=r+a+o*s;cn.drip(t,u,i,l),e!==c-1&&o!==f-1&&cn.drip(t,u,i+a,l+a)}}},fn={dry(t,e){const n=t.fpl[e],r=t.p[e];t.p[e]=null,t.sh.remove(e),t.ev.particleRemove(r,e,n),-1===t.fpids.indexOf(e)&&t.fpids.unshift(e),t.st.cl[n[f]]--},rect(t,e,n,r,o){S(t.sh.getFromRect([e,n,e+r,n+o]),(i=>{const a=t.p[i];null!==a&&d(a[s],a[u],[e,n,e+r,n+o])&&fn.dry(t,i)}))}},ln={trans(t,e,n){const r=t.fpl,o=t.l[n];e.forEach((e=>{const n=t.fpl[e];r[e]=o,t.st.cl[n[f]]--,t.st.cl[o[f]]++}))},transByName(t,e,n){ln.trans(t,e,Matter.Liquid.getFluidId(t,n))},transRect(t,e,n,r,o,i){const a=Matter.Liquid.getFluidId(t,e),c=[];t.p.forEach(((t,e)=>{null!==t&&d(t[s],t[u],[n,r,n+o,r+i])&&c.push(e)})),ln.trans(t,c,a)},reacts(t,e,n){const r=Matter.Liquid.getFluidId(t,e);t.x.reacts[r]=!0,t.x.cbl[r]=n}},pn={utils:{VirtualCanvas:k},create:function(t){const e=i().Liquid,n=t.radius||32,r=!!t.enableChemics,o=n*(t.particleTextureScale||.3);let s=[false,false];const u=t.worldWrapping;null!=u&&(s="boolean"==typeof u?[u,u]:u);const a={},c=t.fluids.map(((t,e)=>(t.name&&(a[t.name]=e),function(t,e,n){const r=e.color||"#fff";return[t,r,b(r),e.texture||rn(r,n),e.mass||1]}(e,t,o)))),f=t.render.canvas,l=k(f.clientWidth,f.clientHeight).getContext("webgl2",{premultipliedAlpha:!1}),p=on,d=_,m=t.updateStep||2,y=t.bounds,h=t.engine.timing;let v=0;const g={fnfid:a,h:n,iwx:s[0],iwy:s[1],b:[y.min.x,y.min.y,y.max.x,y.max.y,y.max.x-y.min.x,y.max.y-y.min.y],e:t.engine,r:t.render,w:t.engine.world,c:l,irc:t.isRegionalComputing||false,l:c,x:t.fluids.reduce(((t,e,n)=>(t.ready[n]=!1,t.step[n]=e.chemicsUS||10,t.reacts[n]=!1,t)),{ready:[],step:[],reacts:[],data:[],cbl:[]}),bb:t.bordersBounce||.5,ip:!1,g:t.gravityRatio||.2,sh:sn(n,y),rbp:0,abp:0,p:[],s:{},fpids:[],fpl:{},dt:t.timeScale||1,ev:an(),st:{cl:c.map((()=>0))},u:()=>{if(v++%m==0){if(r){const t=g.x.ready;for(let e=0;e<t.length;e++)t[e]=(v-e)%g.x.step[e]==0}d(g,h.timeScale*g.dt)}}};var x;return tn=Ne(x=l,[Ye().sourceCode,Xe().sourceCode],[Ze]),en=gt(x,{[Ze]:{numComponents:2,data:[]}}),i().Events.on(t.render,"afterRender",(()=>p(g))),e.setPause(g,!!t.isPaused),Object.seal(g)},drip:cn,dry:fn,chemics:ln,setPause(t,e=!0){e?i().Events.off(t.e,"afterUpdate",t.u):i().Events.on(t.e,"afterUpdate",t.u),t.ip=e,t.ev.pauseChange(e)},setRenderBoundsPadding(t,e){t.rbp=e},setActiveBoundsPadding(t,e){t.abp=e},setGravityRatio(t,e=t.g){t.g=e},setTimeScale(t,e=t.dt){t.dt=e},getGravity:t=>[t.w.gravity.x*t.g,t.w.gravity.y*t.g],getParticlesCount:t=>t.p.length-t.fpids.length,getFluidId:(t,e)=>"number"==typeof e?e:t.fnfid[e]},dn={name:r.u2,version:r.i8,for:"matter-js@0.17.1",install(t){t.Liquid=pn}};Matter.Plugin.register(dn)},534:t=>{t.exports={sourceCode:"#version 300 es\nprecision lowp float;in vec2 a_position;uniform vec4 u_camera;void main(){vec2 offset=u_camera.xy;vec2 resolution=u_camera.zw-offset;vec2 position=(a_position-offset)/resolution;vec2 clipFlipSpace=(position*2.-1.)*vec2(1,-1);gl_PointSize=32.;gl_Position=vec4(clipFlipSpace,1,1);}",uniforms:{u_camera:{variableName:"u_camera",variableType:"vec4"}},consts:{}}},834:t=>{t.exports={sourceCode:"#version 300 es\nprecision lowp float;uniform vec4 u_color;out vec4 outColor;float intensivity=3.;void main(){float alpha=(0.5-length(gl_PointCoord-0.5))*intensivity;outColor=vec4(u_color.rgb,alpha);}",uniforms:{u_color:{variableName:"u_color",variableType:"vec4"}},consts:{}}},538:e=>{"use strict";e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(493)})()}));